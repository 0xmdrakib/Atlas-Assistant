export type LangCode = string;

export type Language = {
  code: LangCode;
  label: string;
  nativeLabel: string;
  speechLang: string;
  rtl?: boolean;
};

export const LANGUAGES: Language[] = [
  { code: "ab", label: "Abkhazian", nativeLabel: "Аҧсуа", speechLang: "ab" },
  { code: "aa", label: "Afar", nativeLabel: "Afar", speechLang: "aa" },
  { code: "af", label: "Afrikaans", nativeLabel: "Afrikaans", speechLang: "af" },
  { code: "ak", label: "Akan", nativeLabel: "Akana", speechLang: "ak" },
  { code: "sq", label: "Albanian", nativeLabel: "Shqip", speechLang: "sq" },
  { code: "am", label: "Amharic", nativeLabel: "አማርኛ", speechLang: "am" },
  { code: "ar", label: "Arabic", nativeLabel: "العربية", speechLang: "ar-SA", rtl: true },
  { code: "an", label: "Aragonese", nativeLabel: "Aragonés", speechLang: "an" },
  { code: "hy", label: "Armenian", nativeLabel: "Հայերեն", speechLang: "hy" },
  { code: "as", label: "Assamese", nativeLabel: "অসমীয়া", speechLang: "as" },
  { code: "av", label: "Avar", nativeLabel: "Авар", speechLang: "av" },
  { code: "ay", label: "Aymara", nativeLabel: "Aymar", speechLang: "ay" },
  { code: "az", label: "Azerbaijani", nativeLabel: "Azərbaycanca / آذربايجان", speechLang: "az" },
  { code: "bm", label: "Bambara", nativeLabel: "Bamanankan", speechLang: "bm" },
  { code: "ba", label: "Bashkir", nativeLabel: "Башҡорт", speechLang: "ba" },
  { code: "eu", label: "Basque", nativeLabel: "Euskara", speechLang: "eu" },
  { code: "be", label: "Belarusian", nativeLabel: "Беларуская", speechLang: "be" },
  { code: "bn", label: "Bengali", nativeLabel: "বাংলা", speechLang: "bn-BD" },
  { code: "bh", label: "Bihari", nativeLabel: "भोजपुरी", speechLang: "bh" },
  { code: "bi", label: "Bislama", nativeLabel: "Bislama", speechLang: "bi" },
  { code: "bs", label: "Bosnian", nativeLabel: "Bosanski", speechLang: "bs" },
  { code: "br", label: "Breton", nativeLabel: "Brezhoneg", speechLang: "br" },
  { code: "bg", label: "Bulgarian", nativeLabel: "Български", speechLang: "bg" },
  { code: "my", label: "Burmese", nativeLabel: "မြန်မာစာ", speechLang: "my" },
  { code: "km", label: "Cambodian", nativeLabel: "ភាសាខ្មែរ", speechLang: "km" },
  { code: "ca", label: "Catalan", nativeLabel: "Català", speechLang: "ca" },
  { code: "ch", label: "Chamorro", nativeLabel: "Chamoru", speechLang: "ch" },
  { code: "ce", label: "Chechen", nativeLabel: "Нохчийн", speechLang: "ce" },
  { code: "ny", label: "Chichewa", nativeLabel: "Chi-Chewa", speechLang: "ny" },
  { code: "zh", label: "Chinese", nativeLabel: "中文", speechLang: "zh-CN" },
  { code: "cv", label: "Chuvash", nativeLabel: "Чăваш", speechLang: "cv" },
  { code: "kw", label: "Cornish", nativeLabel: "Kernewek", speechLang: "kw" },
  { code: "co", label: "Corsican", nativeLabel: "Corsu", speechLang: "co" },
  { code: "cr", label: "Cree", nativeLabel: "Nehiyaw", speechLang: "cr" },
  { code: "hr", label: "Croatian", nativeLabel: "Hrvatski", speechLang: "hr" },
  { code: "cs", label: "Czech", nativeLabel: "Čeština", speechLang: "cs" },
  { code: "da", label: "Danish", nativeLabel: "Dansk", speechLang: "da" },
  { code: "dv", label: "Divehi", nativeLabel: "ދިވެހިބަސް", speechLang: "dv", rtl: true },
  { code: "nl", label: "Dutch", nativeLabel: "Nederlands", speechLang: "nl" },
  { code: "dz", label: "Dzongkha", nativeLabel: "ཇོང་ཁ", speechLang: "dz" },
  { code: "en", label: "English", nativeLabel: "English", speechLang: "en-US" },
  { code: "eo", label: "Esperanto", nativeLabel: "Esperanto", speechLang: "eo" },
  { code: "et", label: "Estonian", nativeLabel: "Eesti", speechLang: "et" },
  { code: "ee", label: "Ewe", nativeLabel: "Ɛʋɛ", speechLang: "ee" },
  { code: "fo", label: "Faroese", nativeLabel: "Føroyskt", speechLang: "fo" },
  { code: "fj", label: "Fijian", nativeLabel: "Na Vosa Vakaviti", speechLang: "fj" },
  { code: "fi", label: "Finnish", nativeLabel: "Suomi", speechLang: "fi" },
  { code: "fr", label: "French", nativeLabel: "Français", speechLang: "fr-FR" },
  { code: "gl", label: "Galician", nativeLabel: "Galego", speechLang: "gl" },
  { code: "lg", label: "Ganda", nativeLabel: "Luganda", speechLang: "lg" },
  { code: "ka", label: "Georgian", nativeLabel: "ქართული", speechLang: "ka" },
  { code: "de", label: "German", nativeLabel: "Deutsch", speechLang: "de" },
  { code: "el", label: "Greek", nativeLabel: "Ελληνικά", speechLang: "el" },
  { code: "kl", label: "Greenlandic", nativeLabel: "Kalaallisut", speechLang: "kl" },
  { code: "gn", label: "Guarani", nativeLabel: "Avañe'ẽ", speechLang: "gn" },
  { code: "gu", label: "Gujarati", nativeLabel: "ગુજરાતી", speechLang: "gu" },
  { code: "ht", label: "Haitian", nativeLabel: "Krèyol ayisyen", speechLang: "ht" },
  { code: "ha", label: "Hausa", nativeLabel: "هَوُسَ", speechLang: "ha", rtl: true },
  { code: "he", label: "Hebrew", nativeLabel: "עברית", speechLang: "he", rtl: true },
  { code: "hz", label: "Herero", nativeLabel: "Otsiherero", speechLang: "hz" },
  { code: "hi", label: "Hindi", nativeLabel: "हिन्दी", speechLang: "hi-IN" },
  { code: "ho", label: "Hiri Motu", nativeLabel: "Hiri Motu", speechLang: "ho" },
  { code: "hu", label: "Hungarian", nativeLabel: "Magyar", speechLang: "hu" },
  { code: "is", label: "Icelandic", nativeLabel: "Íslenska", speechLang: "is" },
  { code: "io", label: "Ido", nativeLabel: "Ido", speechLang: "io" },
  { code: "ig", label: "Igbo", nativeLabel: "Igbo", speechLang: "ig" },
  { code: "id", label: "Indonesian", nativeLabel: "Bahasa Indonesia", speechLang: "id" },
  { code: "ia", label: "Interlingua", nativeLabel: "Interlingua", speechLang: "ia" },
  { code: "ie", label: "Interlingue", nativeLabel: "Interlingue", speechLang: "ie" },
  { code: "iu", label: "Inuktitut", nativeLabel: "ᐃᓄᒃᑎᑐᑦ", speechLang: "iu" },
  { code: "ik", label: "Inupiak", nativeLabel: "Iñupiak", speechLang: "ik" },
  { code: "ga", label: "Irish", nativeLabel: "Gaeilge", speechLang: "ga" },
  { code: "it", label: "Italian", nativeLabel: "Italiano", speechLang: "it" },
  { code: "ja", label: "Japanese", nativeLabel: "日本語", speechLang: "ja" },
  { code: "jv", label: "Javanese", nativeLabel: "Basa Jawa", speechLang: "jv" },
  { code: "kn", label: "Kannada", nativeLabel: "ಕನ್ನಡ", speechLang: "kn" },
  { code: "kr", label: "Kanuri", nativeLabel: "Kanuri", speechLang: "kr" },
  { code: "ks", label: "Kashmiri", nativeLabel: "कश्मीरी / كشميري", speechLang: "ks", rtl: true },
  { code: "kk", label: "Kazakh", nativeLabel: "Қазақша", speechLang: "kk" },
  { code: "ki", label: "Kikuyu", nativeLabel: "Gĩkũyũ", speechLang: "ki" },
  { code: "rn", label: "Kirundi", nativeLabel: "Kirundi", speechLang: "rn" },
  { code: "kv", label: "Komi", nativeLabel: "Коми", speechLang: "kv" },
  { code: "kg", label: "Kongo", nativeLabel: "KiKongo", speechLang: "kg" },
  { code: "ko", label: "Korean", nativeLabel: "한국어", speechLang: "ko" },
  { code: "kj", label: "Kuanyama", nativeLabel: "Kuanyama", speechLang: "kj" },
  { code: "ku", label: "Kurdish", nativeLabel: "Kurdî / كوردی", speechLang: "ku", rtl: true },
  { code: "ky", label: "Kyrgyz", nativeLabel: "Кыргызча", speechLang: "ky" },
  { code: "lo", label: "Laotian", nativeLabel: "ລາວ / Pha xa lao", speechLang: "lo" },
  { code: "la", label: "Latin", nativeLabel: "Latina", speechLang: "la" },
  { code: "lv", label: "Latvian", nativeLabel: "Latviešu", speechLang: "lv" },
  { code: "li", label: "Limburgian", nativeLabel: "Limburgs", speechLang: "li" },
  { code: "ln", label: "Lingala", nativeLabel: "Lingála", speechLang: "ln" },
  { code: "lt", label: "Lithuanian", nativeLabel: "Lietuvių", speechLang: "lt" },
  { code: "lu", label: "Luba-Katanga", nativeLabel: "Tshiluba", speechLang: "lu" },
  { code: "lb", label: "Luxembourgish", nativeLabel: "Lëtzebuergesch", speechLang: "lb" },
  { code: "mk", label: "Macedonian", nativeLabel: "Македонски", speechLang: "mk" },
  { code: "mg", label: "Malagasy", nativeLabel: "Malagasy", speechLang: "mg" },
  { code: "ms", label: "Malay", nativeLabel: "Bahasa Melayu", speechLang: "ms" },
  { code: "ml", label: "Malayalam", nativeLabel: "മലയാളം", speechLang: "ml" },
  { code: "mt", label: "Maltese", nativeLabel: "bil-Malti", speechLang: "mt" },
  { code: "gv", label: "Manx", nativeLabel: "Gaelg", speechLang: "gv" },
  { code: "mi", label: "Maori", nativeLabel: "Māori", speechLang: "mi" },
  { code: "mr", label: "Marathi", nativeLabel: "मराठी", speechLang: "mr" },
  { code: "mh", label: "Marshallese", nativeLabel: "Kajin Majel / Ebon", speechLang: "mh" },
  { code: "mo", label: "Moldovan", nativeLabel: "Moldovenească", speechLang: "mo" },
  { code: "mn", label: "Mongolian", nativeLabel: "Монгол", speechLang: "mn" },
  { code: "na", label: "Nauruan", nativeLabel: "Dorerin Naoero", speechLang: "na" },
  { code: "nv", label: "Navajo", nativeLabel: "Diné bizaad", speechLang: "nv" },
  { code: "ng", label: "Ndonga", nativeLabel: "Oshiwambo", speechLang: "ng" },
  { code: "ne", label: "Nepali", nativeLabel: "नेपाली", speechLang: "ne" },
  { code: "nd", label: "North Ndebele", nativeLabel: "Sindebele", speechLang: "nd" },
  { code: "se", label: "Northern Sami", nativeLabel: "Sámegiella", speechLang: "se" },
  { code: "no", label: "Norwegian", nativeLabel: "Norsk", speechLang: "no" },
  { code: "nb", label: "Norwegian Bokmål", nativeLabel: "Norsk bokmål", speechLang: "nb" },
  { code: "nn", label: "Norwegian Nynorsk", nativeLabel: "Norsk nynorsk", speechLang: "nn" },
  { code: "oc", label: "Occitan", nativeLabel: "Occitan", speechLang: "oc" },
  { code: "oj", label: "Ojibwa", nativeLabel: "ᐊᓂᔑᓈᐯᒧᐎᓐ / Anishinaabemowin", speechLang: "oj" },
  { code: "cu", label: "Old Church Slavonic / Old Bulgarian", nativeLabel: "словѣньскъ / slověnĭskŭ", speechLang: "cu" },
  { code: "or", label: "Oriya", nativeLabel: "ଓଡ଼ିଆ", speechLang: "or" },
  { code: "om", label: "Oromo", nativeLabel: "Oromoo", speechLang: "om" },
  { code: "os", label: "Ossetian / Ossetic", nativeLabel: "Иронау", speechLang: "os" },
  { code: "pi", label: "Pali", nativeLabel: "Pāli / पाऴि", speechLang: "pi" },
  { code: "pa", label: "Panjabi / Punjabi", nativeLabel: "ਪੰਜਾਬੀ / पंजाबी / پنجابي", speechLang: "pa" },
  { code: "ps", label: "Pashto", nativeLabel: "پښتو", speechLang: "ps", rtl: true },
  { code: "fa", label: "Persian", nativeLabel: "فارسی", speechLang: "fa", rtl: true },
  { code: "ff", label: "Peul", nativeLabel: "Fulfulde", speechLang: "ff" },
  { code: "pl", label: "Polish", nativeLabel: "Polski", speechLang: "pl" },
  { code: "pt", label: "Portuguese", nativeLabel: "Português", speechLang: "pt-PT" },
  { code: "qu", label: "Quechua", nativeLabel: "Runa Simi", speechLang: "qu" },
  { code: "rm", label: "Raeto Romance", nativeLabel: "Rumantsch", speechLang: "rm" },
  { code: "ro", label: "Romanian", nativeLabel: "Română", speechLang: "ro" },
  { code: "ru", label: "Russian", nativeLabel: "Русский", speechLang: "ru" },
  { code: "rw", label: "Rwandi", nativeLabel: "Kinyarwandi", speechLang: "rw" },
  { code: "sm", label: "Samoan", nativeLabel: "Gagana Samoa", speechLang: "sm" },
  { code: "sg", label: "Sango", nativeLabel: "Sängö", speechLang: "sg" },
  { code: "sa", label: "Sanskrit", nativeLabel: "संस्कृतम्", speechLang: "sa" },
  { code: "sc", label: "Sardinian", nativeLabel: "Sardu", speechLang: "sc" },
  { code: "gd", label: "Scottish Gaelic", nativeLabel: "Gàidhlig", speechLang: "gd" },
  { code: "sr", label: "Serbian", nativeLabel: "Српски", speechLang: "sr" },
  { code: "sh", label: "Serbo-Croatian", nativeLabel: "Srpskohrvatski / Српскохрватски", speechLang: "sh" },
  { code: "sn", label: "Shona", nativeLabel: "chiShona", speechLang: "sn" },
  { code: "ii", label: "Sichuan Yi", nativeLabel: "ꆇꉙ / 四川彝语", speechLang: "ii" },
  { code: "sd", label: "Sindhi", nativeLabel: "सिनधि", speechLang: "sd" },
  { code: "si", label: "Sinhalese", nativeLabel: "සිංහල", speechLang: "si" },
  { code: "sk", label: "Slovak", nativeLabel: "Slovenčina", speechLang: "sk" },
  { code: "sl", label: "Slovenian", nativeLabel: "Slovenščina", speechLang: "sl" },
  { code: "so", label: "Somalia", nativeLabel: "Soomaaliga", speechLang: "so" },
  { code: "nr", label: "South Ndebele", nativeLabel: "isiNdebele", speechLang: "nr" },
  { code: "st", label: "Southern Sotho", nativeLabel: "Sesotho", speechLang: "st" },
  { code: "es", label: "Spanish", nativeLabel: "Español", speechLang: "es-ES" },
  { code: "su", label: "Sundanese", nativeLabel: "Basa Sunda", speechLang: "su" },
  { code: "sw", label: "Swahili", nativeLabel: "Kiswahili", speechLang: "sw" },
  { code: "ss", label: "Swati", nativeLabel: "SiSwati", speechLang: "ss" },
  { code: "sv", label: "Swedish", nativeLabel: "Svenska", speechLang: "sv" },
  { code: "tl", label: "Tagalog / Filipino", nativeLabel: "Tagalog", speechLang: "tl" },
  { code: "ty", label: "Tahitian", nativeLabel: "Reo Mā`ohi", speechLang: "ty" },
  { code: "tg", label: "Tajik", nativeLabel: "Тоҷикӣ", speechLang: "tg" },
  { code: "ta", label: "Tamil", nativeLabel: "தமிழ்", speechLang: "ta" },
  { code: "tt", label: "Tatar", nativeLabel: "Tatarça", speechLang: "tt" },
  { code: "te", label: "Telugu", nativeLabel: "తెలుగు", speechLang: "te" },
  { code: "th", label: "Thai", nativeLabel: "ไทย / Phasa Thai", speechLang: "th" },
  { code: "bo", label: "Tibetan", nativeLabel: "བོད་ཡིག / Bod skad", speechLang: "bo" },
  { code: "ti", label: "Tigrinya", nativeLabel: "ትግርኛ", speechLang: "ti" },
  { code: "to", label: "Tonga", nativeLabel: "Lea Faka-Tonga", speechLang: "to" },
  { code: "ts", label: "Tsonga", nativeLabel: "Xitsonga", speechLang: "ts" },
  { code: "tn", label: "Tswana", nativeLabel: "Setswana", speechLang: "tn" },
  { code: "tr", label: "Turkish", nativeLabel: "Türkçe", speechLang: "tr" },
  { code: "tk", label: "Turkmen", nativeLabel: "Туркмен / تركمن", speechLang: "tk" },
  { code: "tw", label: "Twi", nativeLabel: "Twi", speechLang: "tw" },
  { code: "uk", label: "Ukrainian", nativeLabel: "Українська", speechLang: "uk" },
  { code: "ur", label: "Urdu", nativeLabel: "اردو", speechLang: "ur", rtl: true },
  { code: "ug", label: "Uyghur", nativeLabel: "Uyƣurqə / ئۇيغۇرچە", speechLang: "ug" },
  { code: "uz", label: "Uzbek", nativeLabel: "O'zbekcha", speechLang: "uz" },
  { code: "ve", label: "Venda", nativeLabel: "Tshivenḓa", speechLang: "ve" },
  { code: "vi", label: "Vietnamese", nativeLabel: "Tiếng Việt", speechLang: "vi" },
  { code: "vo", label: "Volapük", nativeLabel: "Volapük", speechLang: "vo" },
  { code: "wa", label: "Walloon", nativeLabel: "Walon", speechLang: "wa" },
  { code: "cy", label: "Welsh", nativeLabel: "Cymraeg", speechLang: "cy" },
  { code: "fy", label: "West Frisian", nativeLabel: "Frysk", speechLang: "fy" },
  { code: "wo", label: "Wolof", nativeLabel: "Wollof", speechLang: "wo" },
  { code: "xh", label: "Xhosa", nativeLabel: "isiXhosa", speechLang: "xh" },
  { code: "yi", label: "Yiddish", nativeLabel: "ייִדיש", speechLang: "yi", rtl: true },
  { code: "yo", label: "Yoruba", nativeLabel: "Yorùbá", speechLang: "yo" },
  { code: "za", label: "Zhuang", nativeLabel: "Cuengh / Tôô / 壮语", speechLang: "za" },
  { code: "zu", label: "Zulu", nativeLabel: "isiZulu", speechLang: "zu" },
] as const;

export function languageByCode(code: string): Language | undefined {
  return LANGUAGES.find((l) => l.code === code);
}

export function languageLabel(code: string): string {
  return languageByCode(code)?.label ?? code;
}

type Dict = Record<string, Record<string, string>>;

// Minimal UI dictionary (Bangla fully supported; others fall back to English).
const DICT: Dict = {
  en: {
    atlasAssistant: "Atlas Assistant",
    tagline: "A news portal all in one, and AI summery.",
    controls: "Controls",
    controlsHint: "Country + category + window • curated by scoring + caps • updates every 30 min",
    liveDbFeed: "Live DB feed",
    lastLoaded: "Last loaded",
    refresh: "Refresh",
    ingestNow: "Ingest now",
    ingesting: "Ingesting...",
    countryPlaceholder: "Country (e.g., US, BD)",
    categoryPlaceholder: "Category (e.g., AI, Robotics)",
    oneDay: "1 day",
    sevenDays: "7 days",
    thirtyDays: "30 days",
    aiSummary: "AI summary",
    itemSummary: "Item summary",
    signInTitle: "Sign in to use AI",
    signInBody: "Google login protects AI usage and enables per-user limits.",
    notNow: "Not now",
    continueGoogle: "Continue with Google",
    noItems: "No items match those filters (or ingest has not run yet).",
    openSource: "Open source",
    digestTitle: "AI Digest",
    digestHint: "Summarizes what’s on this page (window + filters)",
    generating: "Generating…",
    settings: "Settings",
    language: "Language",
    theme: "Theme",
    dark: "Dark",
    light: "Light",
    translateNeedsLogin: "Sign in to translate the feed.",
    translateNeedsKey: "Translation is unavailable (Gemini API key not configured).",

    themes: "Themes",
    highlights: "Highlights",
    whyItMattersLabel: "Why it matters",
    watchlist: "Watchlist",
    speak: "Speak",
    stop: "Stop",

    tabGlobal: "Global news",
    tabTech: "Tech news",
    tabInnovators: "Innovators",
    tabEarly: "Early signals",
    tabCreators: "Great creators",
    tabUniverse: "Universe",
    tabHistory: "History",
    tabFaith: "Faith",
  },
  bn: {
    atlasAssistant: "অ্যাটলাস অ্যাসিস্ট্যান্ট",
    tagline: "এক জায়গায় সব নিউজ, সাথে এআই সামারি।",
    controls: "কন্ট্রোল",
    controlsHint: "Country + category + window • স্কোরিং + ক্যাপস দিয়ে কিউরেটেড • প্রতি ৩০ মিনিটে আপডেট",
    liveDbFeed: "লাইভ ডিবি ফিড",
    lastLoaded: "শেষ লোড",
    refresh: "রিফ্রেশ",
    ingestNow: "ইনজেস্ট",
    ingesting: "ইনজেস্ট হচ্ছে...",
    countryPlaceholder: "কান্ট্রি (যেমন: US, BD)",
    categoryPlaceholder: "ক্যাটাগরি (যেমন: AI, Robotics)",
    oneDay: "১ দিন",
    sevenDays: "৭ দিন",
    thirtyDays: "৩০ দিন",
    aiSummary: "এআই সামারি",
    itemSummary: "আইটেম সামারি",
    signInTitle: "এআই ব্যবহার করতে লগইন করুন",
    signInBody: "Google login এআই ব্যবহার সুরক্ষিত রাখে এবং per-user limit সক্রিয় করে।",
    notNow: "এখন না",
    continueGoogle: "Google দিয়ে চালিয়ে যান",
    noItems: "এই ফিল্টারে কোনো আইটেম নেই (অথবা ingest এখনো রান হয়নি)।",
    openSource: "সোর্স খুলুন",
    digestTitle: "এআই ডাইজেস্ট",
    digestHint: "এই পেজের সব নিউজ (window + filters) এক ক্লিকে সামারি",
    generating: "তৈরি হচ্ছে…",
    settings: "সেটিংস",
    language: "ল্যাঙ্গুয়েজ",
    theme: "থিম",
    dark: "ডার্ক",
    light: "লাইট",
    translateNeedsLogin: "ফিড ট্রান্সলেট করতে লগইন করুন।",
    translateNeedsKey: "অনুবাদ পাওয়া যাচ্ছে না (Gemini API key সেট করা নেই)।",

    themes: "থিম",
    highlights: "হাইলাইটস",
    whyItMattersLabel: "কেন গুরুত্বপূর্ণ",
    watchlist: "ওয়াচলিস্ট",
    speak: "শুনুন",
    stop: "থামান",

    tabGlobal: "গ্লোবাল নিউজ",
    tabTech: "টেক নিউজ",
    tabInnovators: "ইনোভেটরস",
    tabEarly: "আর্লি সিগন্যালস",
    tabCreators: "গ্রেট ক্রিয়েটরস",
    tabUniverse: "মহাবিশ্ব",
    tabHistory: "ইতিহাস",
    tabFaith: "ঈমান",
  },
};

export function t(lang: string, key: keyof (typeof DICT)["en"]): string {
  const l = (lang || "en").toLowerCase();
  return DICT[l]?.[key] || DICT.en[key] || String(key);
}

export function getSpeechLang(code: string): string {
  const l = LANGUAGES.find((x) => x.code === code);
  return l?.speechLang || "en-US";
}
